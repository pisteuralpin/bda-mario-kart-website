<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="manifest" href="/manifest.json">
    <link rel="icon" href="./assets/illustrations/logo.svg" type="image/x-icon">
    <link rel="stylesheet" href="/assets/styles/main.css">
    <link rel="stylesheet" href="/assets/styles/socials.css">
    <link rel="stylesheet" href="/assets/styles/allos.css">
    <title>Allôs - Mario K'Art</title>
</head>
<body>
    <section class="title">
        <h1>MARIO K'ART</h1>
        <h2 class="super-mario">Allos</h2>
        <a class="button round-button" href="tel:0970700617">01 23 45 67 89</a>
    </section>
    <nav class="pages-nav">
        <ul class="links">
            <li><a class="button b-button back" href="index.html">Accueil</a></li>
            <li><a class="button x-button center" href="members.html">Membres</a></li>
            <li><a class="button a-button continue" href="events.html">Événements</a></li>
        </ul>
    </nav>
    <section class="cup-selection">
        <ul class="allos-list">
            <span class="cup-selector"></span>
            <li class="allo">
                <figure class="allo-icon"><img src="assets/icons/allos/mountain.svg" /></figure>
                <div class="allo-infos">
                    <h4 class="allo-name">Allô montagn'art</h4>
                    <p class="allo-description">Besoin d'une couche de graisse pour survivre au froid hivernal de Nantes ? Appelez nous pour profiter d'une fondue !</p>
                    <span class="banner">⚠️ Quantités limitées - dispo ce week-end</span>
                </div>
            </li>
            <li class="allo">
                <figure class="allo-icon"><img src="assets/icons/allos/punch.svg" /></figure>
                <div class="allo-infos">
                    <h4 class="allo-name">Allô punch</h4>
                    <p class="allo-description">Cheep cheep beach vous manque ? Punch Peach arrive à votre secours !</p>
                </div>
            </li>
            <li class="allo">
                <figure class="allo-icon"><img src="assets/icons/allos/cocktail.svg" /></figure>
                <div class="allo-infos">
                    <h4 class="allo-name">Allô cocktail</h4>
                    <p class="allo-description">Laissez-vous surprendre par nos cocktails originaux !</p>
                </div>
            </li>
            <li class="allo">
                <figure class="allo-icon"><img src="assets/icons/allos/bell.svg" /></figure>
                <div class="allo-infos">
                    <h4 class="allo-name">Allô p'tit dej</h4>
                    <p class="allo-description">Tu viens de te réveiller et flemme de préparer un p'tit dej ? Appelle-nous et on s'en occupe.</p>
                </div>
            </li>
            <li class="allo">
                <figure class="allo-icon"><img src="assets/icons/allos/plate.svg" /></figure>
                <div class="allo-infos">
                    <h4 class="allo-name">Allô rep'art</h4>
                    <p class="allo-description">Marre des pâtes au beurre ? Nos Goombas cuistots viendront préparer à domicile un repas digne des plus grands chefs.</p>
                </div>
            </li>
            <li class="allo">
                <figure class="allo-icon"><img src="assets/icons/allos/banana.svg" /></figure>
                <div class="allo-infos">
                    <h4 class="allo-name">Allô goûter</h4>
                    <p class="allo-description">Un p'tit creux ? Ta maman a oublié de te donner un goûter avant l'école ? On n'est pas ta sug'art mommy mais on te préparera le meilleur que t'ai jamais vu.</p>
                </div>
            </li>
            <li class="allo">
                <figure class="allo-icon"><img src="assets/icons/allos/flower.svg" /></figure>
                <div class="allo-infos">
                    <h4 class="allo-name">Allô les pompiers</h4>
                    <p class="allo-description">Et non c'est pas des pompiers strip-teasers. Mais vous en aurez besoin pour éteindre votre palais.</p>
                </div>
            </li>
            <li class="allo">
                <figure class="allo-icon"><img src="assets/icons/allos/lightning.svg" /></figure>
                <div class="allo-infos">
                    <h4 class="allo-name">Allô art'beit</h4>
                    <p class="allo-description">Un travail à rendre mais la motivation te manque ? On vient te remettre au travail.</p>
                </div>
            </li>
            <li class="allo">
                <figure class="allo-icon"><img src="assets/icons/allos/santa.svg" /></figure>
                <div class="allo-infos">
                    <h4 class="allo-name">Allô pap'art Noël</h4>
                    <p class="allo-description">Petit pap'art Noël, quand tu descendras du ciel, avec des millions de jouets, n'oublie pas de décorer mon appart.</p>
                    <span class="banner">⚠️ Quantités limitées - sur réservation</span>
                </div>
            </li>
            <li class="allo">
                <figure class="allo-icon"><img src="assets/icons/allos/love.svg" /></figure>
                <div class="allo-infos">
                    <h4 class="allo-name">Al'love</h4>
                    <p class="allo-description">Une histoire de coeur ? Besoin d'un messager pour déclarer ta flamme ? Besoin d'un confident ? Toadette viendra à ta rescousse.</p>
                </div>
            </li>
            <li class="allo">
                <figure class="allo-icon"><img src="assets/icons/allos/controller.svg" /></figure>
                <div class="allo-infos">
                    <h4 class="allo-name">Allô'ns jouer</h4>
                    <p class="allo-description">On débarque avec une console pour te mettre une branlée (on te laissera un peu gagner pour que tu votes pour nous).</p>
                </div>
            </li>
            <li class="allo">
                <figure class="allo-icon"><img src="assets/icons/allos/shell.svg" /></figure>
                <div class="allo-infos">
                    <h4 class="allo-name">Allô branc'art</h4>
                    <p class="allo-description">Ton pote est sur le capot ? Un de nos mécanicien le raccompagnera à domicile en toute sécurité.</p>
                </div>
            </li>
            <li class="allo">
                <figure class="allo-icon"><img src="assets/icons/allos/talk.svg" /></figure>
                <div class="allo-infos">
                    <h4 class="allo-name">Allô bav'art</h4>
                    <p class="allo-description">Débat, quiz ou simple discussion ? Vous choississez le sujet.</p>
                </div>
            </li>
            <li class="allo">
                <figure class="allo-icon"><img src="assets/icons/allos/movie.svg" /></figure>
                <div class="allo-infos">
                    <h4 class="allo-name">Cinem'allô</h4>
                    <p class="allo-description">Film d'horreur, film de Noël ou autre, on vient en regarder un avec vous.</p>
                </div>
            </li>
            <li class="allo">
                <figure class="allo-icon"><img src="assets/icons/allos/karaoke.svg" /></figure>
                <div class="allo-infos">
                    <h4 class="allo-name">Allô'rs on chante</h4>
                    <p class="allo-description">Le karaoké se déplace chez vous !</p>
                </div>
            </li>
            <li class="allo">
                <figure class="allo-icon"><img src="assets/icons/allos/casino.svg" /></figure>
                <div class="allo-infos">
                    <h4 class="allo-name">Casin'allô</h4>
                    <p class="allo-description">La chance vous sourit ? Poker ou blackjack, tentez votre chance.</p>
                </div>
            </li>
            <li class="allo">
                <figure class="allo-icon"><img src="assets/icons/allos/guitar.svg" /></figure>
                <div class="allo-infos">
                    <h4 class="allo-name">Allô concert</h4>
                    <p class="allo-description">Le meilleur orchestre du Music Park viendra faire un concert à domicile.</p>
                    <span class="banner">⏳ Coming soon</span>
                </div>
            </li>
            <li class="allo">
                <figure class="allo-icon"><img src="assets/icons/allos/beer_pong.svg" /></figure>
                <div class="allo-infos">
                    <h4 class="allo-name">Allô'ns boire</h4>
                    <p class="allo-description">Boire seul c'est pas ouf. Boire en s'amusant, c'est mieux. Jouons ensemble au stacks, beer pong et autres sports.</p>
                    <span class="banner">⏳ Coming soon</span>
                </div>
            </li>
            <li class="allo">
                <figure class="allo-icon"><img src="assets/icons/allos/pinard.svg" /></figure>
                <div class="allo-infos">
                    <h4 class="allo-name">Allô pin'art</h4>
                    <p class="allo-description">Ah la France, le pays du vin. Laissez-nous vous transporter au travers des plus belles régions viticoles. Nan en vrai on viendra avec notre bon vieux cubis pour vous mettre bien.</p>
                </div>
            </li>
            <li class="allo">
                <figure class="allo-icon"><img src="assets/icons/allos/shots.svg" /></figure>
                <div class="allo-infos">
                    <h4 class="allo-name">Allô route art'canciel</h4>
                    <p class="allo-description">Un shot c'est bien, dix c'est mieux. Mais multicolors, c'est plus mieux.</p>
                </div>
            </li>
            <li class="allo">
                <figure class="allo-icon"><img src="assets/icons/allos/egg.svg" /></figure>
                <div class="allo-infos">
                    <h4 class="allo-name">Allô Cauchem'art'lô en cuisine</h4>
                    <p class="allo-description">Fournissez des ingrédients aléatoires et on vous concoctera un plat qu'on espère comestible.</p>
                </div>
            </li>
            <li class="allo">
                <figure class="allo-icon"><img src="assets/icons/allos/special.svg" /></figure>
                <div class="allo-infos">
                    <h4 class="allo-name">Super Nintend'allô</h4>
                    <p class="allo-description">Loin de l'Élysée, notre président acceptera de rencontrer ses sujets pour jouer à la Super Nintendo parce que c'était mieux avant.</p>
                </div>
            </li>
        </ul>
    </section>
    
    <script src="/assets/scripts/main.js"></script> 

    <script>
        function selectCup(allo) {
            document.querySelector(".cup-selector").classList.remove("hidden");
            allo.parentElement.querySelectorAll(".selected").forEach(selected => {
                selected.classList.remove("selected");
            });
            allo.classList.add("selected");
            document.querySelector(".cup-selector").style.top = allo.offsetTop + "px";
            document.querySelector(".cup-selector").style.left = allo.offsetLeft + "px";
            document.querySelector(".cup-selector").style.width = allo.offsetWidth + "px";
            document.querySelector(".cup-selector").style.height = allo.offsetHeight + "px";
        }

        const rem = parseFloat(getComputedStyle(document.documentElement).fontSize);

        window.addEventListener("load", () => { selectCup(document.querySelector(".allo")); });

        document.querySelectorAll(".allo").forEach(allo => {
            allo.addEventListener("click", () => {
                selectCup(allo);
            });
        });
        window.addEventListener("resize", () => {
            selectCup(document.querySelector(".selected"));
        });
        window.addEventListener("keydown", (event) => {
            if (document.querySelector(".selected").offsetTop == document.querySelector(".cup-selector").offsetTop && document.querySelector(".selected").offsetLeft == document.querySelector(".cup-selector").offsetLeft) {

                if (event.key === "ArrowRight") {
                    const selected = document.querySelector(".selected");
                    if (selected.nextElementSibling && selected.nextElementSibling.classList.contains("allo")) {
                        selectCup(selected.nextElementSibling);
                    }
                } else if (event.key === "ArrowLeft") {
                    const selected = document.querySelector(".selected");
                    if (selected.previousElementSibling && selected.previousElementSibling.classList.contains("allo")) {
                        selectCup(selected.previousElementSibling);
                    }
                } else if (event.key === "ArrowUp") {
                    current_coords = {
                        x: Math.floor( (document.querySelector(".selected").offsetTop - document.querySelector(".allos-list").offsetTop) / (document.querySelector(".selected").getBoundingClientRect().height + 2*rem) ),
                        y: Math.floor( (document.querySelector(".selected").offsetLeft - document.querySelector(".allos-list").offsetLeft) / (document.querySelector(".selected").getBoundingClientRect().width + 2*rem) )
                    };
                    grid_size = { // x = number of columns, y = number of rows
                        x: Math.floor(document.querySelector(".allos-list").offsetWidth / (document.querySelector(".selected").getBoundingClientRect().width + 2*rem)),
                        y: Math.floor(document.querySelector(".allos-list").offsetHeight / (document.querySelector(".selected").getBoundingClientRect().height + 2*rem))
                    };
                    console.log(current_coords, grid_size);
                    if (current_coords.x > 0) {
                        selectCup(document.querySelector(".allos-list").children[(current_coords.x - 1) * grid_size.x + current_coords.y +1]);
                    }
                }
                else if (event.key === "ArrowDown") {
                    current_coords = {
                        x: Math.floor( (document.querySelector(".selected").offsetTop - document.querySelector(".allos-list").offsetTop) / (document.querySelector(".selected").getBoundingClientRect().height + 2*rem) ),
                        y: Math.floor( (document.querySelector(".selected").offsetLeft - document.querySelector(".allos-list").offsetLeft) / (document.querySelector(".selected").getBoundingClientRect().width + 2*rem) )
                    };
                    grid_size = { // x = number of columns, y = number of rows
                        x: Math.floor(document.querySelector(".allos-list").offsetWidth / (document.querySelector(".selected").getBoundingClientRect().width + 2*rem)),
                        y: Math.floor(document.querySelector(".allos-list").offsetHeight / (document.querySelector(".selected").getBoundingClientRect().height + 2*rem))
                    };
                    console.log(current_coords, grid_size);
                    if (current_coords.x < grid_size.y - 1) {
                        selectCup(document.querySelector(".allos-list").children[(current_coords.x + 1) * grid_size.x + current_coords.y +1]);
                    }
                }

            }
        });
    </script>
</body>
</html>